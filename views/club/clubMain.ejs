<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>검색 및 해시태그</title>
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/club.css">
</head>

<body>
    <%- include('../component/header')%>
  <div class="search-container">
    <input type="search" class="search-bar" placeholder="검색">
    <button type="button" onclick="searchClub()" >검색</button>
  </div>

  <div class="hashtags">
    <!-- 해시태그 예시입니다. 클릭 이벤트와 백엔드 연결을 위한 클래스를 추가할 수 있습니다. -->
    <span class="hashtag">#거리 30Km 이내</span>
  </div>


  <% for(let i=0; i<data.length;i++){ %>
    <div class="list" onclick="showDetail(event)" >

      <div class="list-title" >
        <%= data[i].club_name%>
        <span style="display: none;"  class="club_id"><%=data[i].club_id%>
        </span>
      </div>
      <div class="list-content">
        <%=data[i].description%>
        <span style="display: none;"  class="club_id"><%=data[i].club_id%>
        </span>
      </div>
  </div>
    <% } %>

    

  <div class="createClub" onclick="createClub()">+</div>

  <script>
    

    function showDetail(event) {
      let clickedDiv = event.target;
      console.log('clickedDiv >',clickedDiv);

      let selectedClub = clickedDiv.querySelector('.club_id');
      let club_id = selectedClub.innerText;
      
      console.log(selectedClub);
      console.log(club_id);
      window.location.href=`/clubDetail/${club_id}`
      
    }
  
  function createClub(){
    window.location.href='/createClub';
  }
  </script>
</body>

</html>